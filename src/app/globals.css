@import "tailwindcss";
@import "tw-animate-css";
@import "leaflet/dist/leaflet.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Core colors */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Sidebar colors */
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-sidebar-muted: var(--sidebar-muted);

  /* Chart colors */
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);

  /* Form & interaction colors */
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  /* Accent colors */
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);

  /* Popover & card colors */
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);

  /* Status colors - Traffic Light System */
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-success-bg: var(--success-bg);
  --color-success-border: var(--success-border);

  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-warning-bg: var(--warning-bg);
  --color-warning-border: var(--warning-border);

  --color-error: var(--error);
  --color-error-foreground: var(--error-foreground);
  --color-error-bg: var(--error-bg);
  --color-error-border: var(--error-border);

  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);
  --color-info-bg: var(--info-bg);
  --color-info-border: var(--info-border);

  /* Ranking position colors */
  --color-rank-top3: var(--rank-top3);
  --color-rank-top10: var(--rank-top10);
  --color-rank-top20: var(--rank-top20);
  --color-rank-notranking: var(--rank-notranking);

  /* Brand accent */
  --color-brand-accent: var(--brand-accent);
  --color-brand-accent-hover: var(--brand-accent-hover);

  /* Border radius */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* Tailwind base colors for Tremor charts */
  --color-emerald-50: #ecfdf5;
  --color-emerald-100: #d1fae5;
  --color-emerald-200: #a7f3d0;
  --color-emerald-300: #6ee7b7;
  --color-emerald-400: #34d399;
  --color-emerald-500: #10b981;
  --color-emerald-600: #059669;
  --color-emerald-700: #047857;
  --color-emerald-800: #065f46;
  --color-emerald-900: #064e3b;
  --color-emerald-950: #022c22;

  --color-cyan-50: #ecfeff;
  --color-cyan-100: #cffafe;
  --color-cyan-200: #a5f3fc;
  --color-cyan-300: #67e8f9;
  --color-cyan-400: #22d3ee;
  --color-cyan-500: #06b6d4;
  --color-cyan-600: #0891b2;
  --color-cyan-700: #0e7490;
  --color-cyan-800: #155e75;
  --color-cyan-900: #164e63;
  --color-cyan-950: #083344;

  --color-blue-50: #eff6ff;
  --color-blue-100: #dbeafe;
  --color-blue-200: #bfdbfe;
  --color-blue-300: #93c5fd;
  --color-blue-400: #60a5fa;
  --color-blue-500: #3b82f6;
  --color-blue-600: #2563eb;
  --color-blue-700: #1d4ed8;
  --color-blue-800: #1e40af;
  --color-blue-900: #1e3a8a;
  --color-blue-950: #172554;

  --color-indigo-50: #eef2ff;
  --color-indigo-100: #e0e7ff;
  --color-indigo-200: #c7d2fe;
  --color-indigo-300: #a5b4fc;
  --color-indigo-400: #818cf8;
  --color-indigo-500: #6366f1;
  --color-indigo-600: #4f46e5;
  --color-indigo-700: #4338ca;
  --color-indigo-800: #3730a3;
  --color-indigo-900: #312e81;
  --color-indigo-950: #1e1b4b;

  --color-slate-50: #f8fafc;
  --color-slate-100: #f1f5f9;
  --color-slate-200: #e2e8f0;
  --color-slate-300: #cbd5e1;
  --color-slate-400: #94a3b8;
  --color-slate-500: #64748b;
  --color-slate-600: #475569;
  --color-slate-700: #334155;
  --color-slate-800: #1e293b;
  --color-slate-900: #0f172a;
  --color-slate-950: #020617;

  /* Amber colors for Top 3 (gold accent) */
  --color-amber-50: #fffbeb;
  --color-amber-100: #fef3c7;
  --color-amber-200: #fde68a;
  --color-amber-300: #fcd34d;
  --color-amber-400: #fbbf24;
  --color-amber-500: #f59e0b;
  --color-amber-600: #d97706;
  --color-amber-700: #b45309;
  --color-amber-800: #92400e;
  --color-amber-900: #78350f;
  --color-amber-950: #451a03;

  /* Sky colors for 4-10 range */
  --color-sky-50: #f0f9ff;
  --color-sky-100: #e0f2fe;
  --color-sky-200: #bae6fd;
  --color-sky-300: #7dd3fc;
  --color-sky-400: #38bdf8;
  --color-sky-500: #0ea5e9;
  --color-sky-600: #0284c7;
  --color-sky-700: #0369a1;
  --color-sky-800: #075985;
  --color-sky-900: #0c4a6e;
  --color-sky-950: #082f49;

  /* Orange colors for brand accent */
  --color-orange-50: #fff7ed;
  --color-orange-100: #ffedd5;
  --color-orange-200: #fed7aa;
  --color-orange-300: #fdba74;
  --color-orange-400: #fb923c;
  --color-orange-500: #f97316;
  --color-orange-600: #ea580c;
  --color-orange-700: #c2410c;
  --color-orange-800: #9a3412;
  --color-orange-900: #7c2d12;
  --color-orange-950: #431407;
}

:root {
  --radius: 0.625rem;

  /* ============================================================================
     Professional SEO Platform Design System
     Inspired by SEMRush & BrightLocal - Navy & Orange Accent
     ============================================================================ */

  /* Brand Accent - Electric Orange for CTAs */
  --brand-accent: #FF6B35;
  --brand-accent-hover: #E85A2A;

  /* Backgrounds - Clean, professional light gray */
  --background: #F8FAFC;
  --foreground: #0F172A;

  /* Tremor chart axis labels */
  --tremor-content: #334155;
  --tremor-content-subtle: #64748B;

  /* Cards & Popovers - Pure white with subtle shadows */
  --card: #FFFFFF;
  --card-foreground: #0F172A;
  --popover: #FFFFFF;
  --popover-foreground: #0F172A;

  /* Primary - Deep Navy Blue */
  --primary: #0D1F3C;
  --primary-foreground: #FFFFFF;

  /* Secondary - Lighter Navy */
  --secondary: #F1F5F9;
  --secondary-foreground: #1E293B;

  /* Muted - Subtle grays */
  --muted: #F1F5F9;
  --muted-foreground: #64748B;

  /* Accent - Light blue tint for highlights */
  --accent: #EFF6FF;
  --accent-foreground: #1E40AF;

  /* Destructive - Accessible red */
  --destructive: #DC2626;
  --destructive-foreground: #FFFFFF;

  /* Borders & Inputs - Soft gray borders */
  --border: #E2E8F0;
  --input: #E2E8F0;
  --ring: #0D1F3C;

  /* Status Colors - WCAG AA Compliant Traffic Light */
  --success: #059669;
  --success-foreground: #065F46;
  --success-bg: #D1FAE5;
  --success-border: #059669;

  --warning: #D97706;
  --warning-foreground: #92400E;
  --warning-bg: #FEF3C7;
  --warning-border: #D97706;

  --error: #DC2626;
  --error-foreground: #991B1B;
  --error-bg: #FEE2E2;
  --error-border: #DC2626;

  --info: #2563EB;
  --info-foreground: #1E40AF;
  --info-bg: #DBEAFE;
  --info-border: #2563EB;

  /* Chart Colors - Professional palette */
  --chart-1: #2563EB;
  --chart-2: #059669;
  --chart-3: #D97706;
  --chart-4: #7C3AED;
  --chart-5: #DC2626;

  /* Sidebar - Dark navy for contrast */
  --sidebar: #0D1F3C;
  --sidebar-foreground: #F1F5F9;
  --sidebar-primary: #FF6B35;
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: #1A365D;
  --sidebar-accent-foreground: #FFFFFF;
  --sidebar-border: #1A365D;
  --sidebar-ring: #FF6B35;
  --sidebar-muted: #94A3B8;

  /* Ranking Position Colors */
  --rank-top3: #059669;
  --rank-top10: #D97706;
  --rank-top20: #EA580C;
  --rank-notranking: #64748B;
}

.dark {
  /* ============================================================================
     Dark Mode - Professional Navy Theme
     ============================================================================ */

  /* Backgrounds - Deep navy */
  --background: #0A1628;
  --foreground: #F8FAFC;

  /* Tremor chart axis labels */
  --tremor-content: #E2E8F0;
  --tremor-content-subtle: #94A3B8;

  /* Cards & Popovers - Slightly lighter navy */
  --card: #0F1E32;
  --card-foreground: #F8FAFC;
  --popover: #0F1E32;
  --popover-foreground: #F8FAFC;

  /* Primary - Brighter for dark backgrounds */
  --primary: #FF6B35;
  --primary-foreground: #FFFFFF;

  /* Secondary */
  --secondary: #1A365D;
  --secondary-foreground: #F8FAFC;

  /* Muted */
  --muted: #1A365D;
  --muted-foreground: #94A3B8;

  /* Accent */
  --accent: #1E3A5F;
  --accent-foreground: #93C5FD;

  /* Destructive */
  --destructive: #EF4444;
  --destructive-foreground: #FFFFFF;

  /* Borders & Inputs */
  --border: #1E3A5F;
  --input: #1E3A5F;
  --ring: #FF6B35;

  /* Status Colors - Brighter for dark mode */
  --success: #10B981;
  --success-foreground: #A7F3D0;
  --success-bg: #064E3B;
  --success-border: #10B981;

  --warning: #F59E0B;
  --warning-foreground: #FDE68A;
  --warning-bg: #78350F;
  --warning-border: #F59E0B;

  --error: #EF4444;
  --error-foreground: #FCA5A5;
  --error-bg: #7F1D1D;
  --error-border: #EF4444;

  --info: #3B82F6;
  --info-foreground: #93C5FD;
  --info-bg: #1E3A8A;
  --info-border: #3B82F6;

  /* Chart colors - Vibrant for dark backgrounds */
  --chart-1: #3B82F6;
  --chart-2: #10B981;
  --chart-3: #F59E0B;
  --chart-4: #A78BFA;
  --chart-5: #F87171;

  /* Sidebar - Same as background for cohesion */
  --sidebar: #0A1628;
  --sidebar-foreground: #F8FAFC;
  --sidebar-primary: #FF6B35;
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: #1A365D;
  --sidebar-accent-foreground: #F8FAFC;
  --sidebar-border: #1A365D;
  --sidebar-ring: #FF6B35;
  --sidebar-muted: #64748B;

  /* Ranking Position Colors */
  --rank-top3: #10B981;
  --rank-top10: #F59E0B;
  --rank-top20: #F97316;
  --rank-notranking: #64748B;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ============================================================================
   Typography Enhancements
   ============================================================================ */

h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  letter-spacing: -0.025em;
}

/* ============================================================================
   Card Hover Effects
   ============================================================================ */

.card-hover {
  transition: box-shadow 200ms ease, transform 200ms ease;
}

.card-hover:hover {
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  transform: translateY(-2px);
}

/* ============================================================================
   Brand Accent Button
   ============================================================================ */

.btn-accent {
  background-color: var(--brand-accent);
  color: white;
  transition: background-color 150ms ease;
}

.btn-accent:hover {
  background-color: var(--brand-accent-hover);
}

/* ============================================================================
   Health Score Gauge
   ============================================================================ */

.health-gauge {
  --gauge-size: 120px;
  width: var(--gauge-size);
  height: calc(var(--gauge-size) / 2);
  position: relative;
}

.health-gauge::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: calc(var(--gauge-size) / 2) calc(var(--gauge-size) / 2) 0 0;
  background: conic-gradient(
    from 180deg,
    var(--error) 0deg,
    var(--warning) 60deg,
    var(--success) 120deg,
    var(--success) 180deg
  );
  mask: radial-gradient(circle at center bottom, transparent 40%, black 41%);
  -webkit-mask: radial-gradient(circle at center bottom, transparent 40%, black 41%);
}

/* ============================================================================
   Tremor/Recharts Chart Styling for Tailwind v4
   ============================================================================ */

/* Bar fill colors - SEMrush-style palette with gold accent */
.fill-amber-500, [class*="fill-amber"] { fill: #f59e0b !important; }
.fill-sky-500, [class*="fill-sky"] { fill: #0ea5e9 !important; }
.fill-blue-500, [class*="fill-blue"] { fill: #3b82f6 !important; }
.fill-indigo-500, [class*="fill-indigo"] { fill: #6366f1 !important; }
.fill-slate-500, [class*="fill-slate"] { fill: #475569 !important; }

/* Keep emerald/cyan for backwards compatibility */
.fill-emerald-500, [class*="fill-emerald"] { fill: #10b981 !important; }
.fill-cyan-500, [class*="fill-cyan"] { fill: #06b6d4 !important; }

/* Recharts specific bar rectangle overrides */
.recharts-bar-rectangle.fill-amber-500 { fill: #f59e0b !important; }
.recharts-bar-rectangle.fill-sky-500 { fill: #0ea5e9 !important; }
.recharts-bar-rectangle.fill-blue-500 { fill: #3b82f6 !important; }
.recharts-bar-rectangle.fill-indigo-500 { fill: #6366f1 !important; }
.recharts-bar-rectangle.fill-slate-500 { fill: #475569 !important; }

/* Force SVG rect fills with inline style overrides via CSS specificity */
.recharts-bar-rectangle[fill] { fill: inherit !important; }
g.recharts-bar-rectangle[class*="fill-amber"] rect,
g.recharts-bar-rectangle[class*="fill-amber"] path,
g[class*="fill-amber"] .recharts-rectangle,
[class*="fill-amber"] rect { fill: #f59e0b !important; }

g.recharts-bar-rectangle[class*="fill-sky"] rect,
g.recharts-bar-rectangle[class*="fill-sky"] path,
g[class*="fill-sky"] .recharts-rectangle,
[class*="fill-sky"] rect { fill: #0ea5e9 !important; }

g.recharts-bar-rectangle[class*="fill-blue"] rect,
g.recharts-bar-rectangle[class*="fill-blue"] path,
g[class*="fill-blue"] .recharts-rectangle,
[class*="fill-blue"]:not([class*="fill-sky"]) rect { fill: #3b82f6 !important; }

g.recharts-bar-rectangle[class*="fill-indigo"] rect,
g.recharts-bar-rectangle[class*="fill-indigo"] path,
g[class*="fill-indigo"] .recharts-rectangle,
[class*="fill-indigo"] rect { fill: #6366f1 !important; }

g.recharts-bar-rectangle[class*="fill-slate"] rect,
g.recharts-bar-rectangle[class*="fill-slate"] path,
g[class*="fill-slate"] .recharts-rectangle,
[class*="fill-slate"] rect { fill: #475569 !important; }

/* ============================================================================
   Chart Axis Labels - Dark/Light Mode Support
   ============================================================================ */

/* Direct overrides for Recharts text elements */
.recharts-cartesian-axis-tick text,
.recharts-yAxis text,
.recharts-xAxis text {
  fill: var(--tremor-content) !important;
}

/* Tremor axis label classes */
.fill-tremor-content { fill: var(--tremor-content) !important; }
.dark .fill-dark-tremor-content { fill: var(--tremor-content) !important; }

/* ============================================================================
   Chart Tooltip Styling - Solid Background
   ============================================================================ */

/* Recharts default tooltip */
.recharts-tooltip-wrapper .recharts-default-tooltip {
  background-color: white !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 8px !important;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important;
  padding: 12px 16px !important;
}

.dark .recharts-tooltip-wrapper .recharts-default-tooltip {
  background-color: #0f1e32 !important;
  border-color: #1e3a5f !important;
}

/* Tremor tooltip wrapper */
[class*="tremor-Tooltip"],
.tremor-Tooltip-root {
  background-color: white !important;
  border: 1px solid #e2e8f0 !important;
  border-radius: 8px !important;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1) !important;
}

.dark [class*="tremor-Tooltip"],
.dark .tremor-Tooltip-root {
  background-color: #0f1e32 !important;
  border-color: #1e3a5f !important;
}

/* Tooltip text colors */
.recharts-tooltip-item,
.recharts-tooltip-label {
  color: #334155 !important;
}

.dark .recharts-tooltip-item,
.dark .recharts-tooltip-label {
  color: #e2e8f0 !important;
}

/* ============================================================================
   Progress Bar Styling
   ============================================================================ */

.progress-success [data-progress-indicator] {
  background-color: var(--success) !important;
}

.progress-warning [data-progress-indicator] {
  background-color: var(--warning) !important;
}

.progress-error [data-progress-indicator] {
  background-color: var(--error) !important;
}

/* ============================================================================
   Status Badge Styling
   ============================================================================ */

.badge-success {
  background-color: var(--success-bg);
  color: var(--success-foreground);
  border: 1px solid var(--success-border);
}

.badge-warning {
  background-color: var(--warning-bg);
  color: var(--warning-foreground);
  border: 1px solid var(--warning-border);
}

.badge-error {
  background-color: var(--error-bg);
  color: var(--error-foreground);
  border: 1px solid var(--error-border);
}

.badge-info {
  background-color: var(--info-bg);
  color: var(--info-foreground);
  border: 1px solid var(--info-border);
}

/* ============================================================================
   Custom Scrollbar
   ============================================================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--muted);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--muted-foreground);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--foreground);
}

.dark ::-webkit-scrollbar-track {
  background: var(--sidebar-accent);
}

.dark ::-webkit-scrollbar-thumb {
  background: var(--sidebar-muted);
}

/* ============================================================================
   Custom Leaflet marker styles
   ============================================================================ */

.custom-rank-marker {
  background: transparent !important;
  border: none !important;
}

.leaflet-marker-icon.custom-rank-marker {
  background: transparent !important;
  border: none !important;
}

/* ============================================================================
   Animated Number Display
   ============================================================================ */

.stat-number {
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum";
}

/* ============================================================================
   Gradient Text
   ============================================================================ */

.gradient-text {
  background: linear-gradient(135deg, var(--primary) 0%, var(--brand-accent) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ============================================================================
   Glow Effects for Important Elements
   ============================================================================ */

.glow-accent {
  box-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
}

.glow-success {
  box-shadow: 0 0 20px rgba(5, 150, 105, 0.3);
}

.glow-warning {
  box-shadow: 0 0 20px rgba(217, 119, 6, 0.3);
}

.glow-error {
  box-shadow: 0 0 20px rgba(220, 38, 38, 0.3);
}
